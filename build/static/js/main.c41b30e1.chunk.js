(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{42:function(e,t,a){e.exports=a(70)},68:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),i=a.n(l),c=a(74),s=a(75),m=a(76),o=a(19),u=a.n(o),h=function(e){return u.a.get("https://api.giphy.com/v1/gifs/search?q="+e+"&api_key=BkaUZZWcFij6J7AoQj3WtPb1R2p9O6V9&limit=30")},d=function(e){return u.a.post("api/gifs/create-gif",e)},E=function(){return u.a.get("api/gifs/saved")},f=function(e){return u.a.delete("api/gifs/"+e)},g=a(22),p=a(23),v=a(14),y=a(10),k=a(15),C=a(39),b=a.n(C);class x extends n.Component{constructor(...e){super(...e),this.state={gifs:[]},this.componentDidMount=()=>{E().then(e=>this.setState({gifs:e.data})).catch(e=>console.log(e))},this.handleDelete=e=>{f(e.target.id).then(e=>{window.location.reload(!1)}).catch(e=>console.log(e))}}render(){return console.log(this.state.gifs),r.a.createElement(g.a,null,this.state.gifs.length>0?r.a.createElement("h1",null,"Your Favorited Gifs:"):r.a.createElement("h1",null,"No Favorited Gifs"),r.a.createElement(p.a,null,this.state.gifs.map(e=>r.a.createElement(v.a,{xs:6,md:4},r.a.createElement(y.a,{style:{width:"18rem"}},r.a.createElement(y.a.Img,{variant:"top",src:e.url}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,e.name),r.a.createElement(y.a.Title,null,"Favorited on: ",b()(e.date,"mmmm dS, yyyy"))),r.a.createElement(k.a,{variant:"primary",onClick:this.handleDelete,name:e.title,id:e._id},"Delete"))))))}}var F=a(32),S=a(30);function w(){return r.a.createElement(F.a,{bg:"dark",variant:"dark"},r.a.createElement(F.a.Brand,{href:"/"},"Navbar"),r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{href:"/"},"Home"),r.a.createElement(S.a.Link,{href:"/favorites"},"Favorited Gifs")))}a(68);var q=a(20),B=a(73);function G({query:e,handleFormSubmit:t,handleChange:a,redirect:n}){return!0===n?r.a.createElement(B.a,{to:"/results"}):r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(q.a,null,r.a.createElement(q.a.Group,{controlId:"formBasicEmail"},r.a.createElement(q.a.Label,null,"Giftastic"),r.a.createElement(q.a.Control,{type:"text",placeholder:"Enter gif topic",name:"query",value:e,onChange:a})),r.a.createElement(k.a,{variant:"primary",type:"submit",onClick:t},"Show me the gifs"))))}function j({gifs:e,handleClick:t}){return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(p.a,null,e.map(e=>r.a.createElement(v.a,{xs:6,md:4},r.a.createElement(y.a,{style:{width:"18rem"}},r.a.createElement(y.a.Img,{variant:"top",src:e.images.fixed_height.url}),r.a.createElement(y.a.Body,null,r.a.createElement(y.a.Title,null,e.title)),r.a.createElement(k.a,{variant:"primary",onClick:t,name:e.title,value:e.images.fixed_height.url,id:e._id},"Favorite!")))))))}class D extends n.Component{constructor(...e){super(...e),this.state={query:"",gifs:[],redirect:!1},this.handleFormSubmit=e=>{e.preventDefault(),h(this.state.query).then(e=>this.setState({gifs:e.data.data,redirect:!0})).catch(e=>console.log(e))},this.handleClick=e=>{const t=e.target,a=t.name,n=t.value;d({name:a,url:n}).then(e=>alert("Gif saved successfully!")).catch(e=>console.log(e))},this.handleChange=e=>{const t=e.target,a=t.name,n=t.value;this.setState({[a]:n})}}render(){return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,{exact:!0,path:"/",render:e=>r.a.createElement(G,Object.assign({},e,{handleFormSubmit:this.handleFormSubmit,handleChange:this.handleChange,query:this.state.query,redirect:this.state.redirect}))}),r.a.createElement(m.a,{exact:!0,path:"/results",render:e=>r.a.createElement(j,Object.assign({},e,{gifs:this.state.gifs,handleClick:this.handleClick}))}),r.a.createElement(m.a,{exact:!0,path:"/favorites",component:x}))))}}i.a.render(r.a.createElement(D,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c41b30e1.chunk.js.map